<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Spotify Data Viewer — Browse Your Exported Spotify Library</title>
    <meta
      name="description"
      content="Free Spotify data viewer and export explorer. Browse playlists, search streaming history, and filter tracks, artists, and albums from your Spotify data export — entirely in your browser. No sign-up, no server — your data never leaves your device."
    />
    <link
      rel="canonical"
      href="https://danielhdzzz.github.io/spotify-data-view/"
    />
    <meta name="theme-color" content="#e96401" />

    <!-- Open Graph -->
    <meta
      property="og:title"
      content="Spotify Library Browser — Browse & Search Your Exported Spotify Data"
    />
    <meta
      property="og:description"
      content="Upload your Spotify data export and instantly browse playlists, tracks, artists, and albums. Runs entirely in your browser — your data never leaves your device."
    />
    <meta property="og:type" content="website" />
    <meta
      property="og:url"
      content="https://danielhdzzz.github.io/spotify-data-view/"
    />
    <meta property="og:site_name" content="Spotify Library Browser" />

    <!-- Twitter Card -->
    <meta name="twitter:card" content="summary" />
    <meta
      name="twitter:title"
      content="Spotify Library Browser — Browse & Search Your Exported Spotify Data"
    />
    <meta
      name="twitter:description"
      content="Upload your Spotify data export and instantly browse playlists, tracks, artists, and albums. Runs entirely in your browser — your data never leaves your device."
    />

    <!-- Structured Data -->
    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "WebApplication",
        "name": "Spotify Data Viewer",
        "url": "https://danielhdzzz.github.io/spotify-data-view/",
        "description": "Free Spotify data viewer and export explorer. Browse playlists, search streaming history, and filter tracks from your Spotify data export.",
        "applicationCategory": "UtilitiesApplication",
        "operatingSystem": "Any",
        "offers": {
          "@type": "Offer",
          "price": "0",
          "priceCurrency": "USD"
        },
        "browserRequirements": "Requires a modern browser with JavaScript enabled"
      }
    </script>

    <link rel="stylesheet" href="style.css" />
  </head>
  <body>
    <div id="loading">loading data...</div>

    <noscript
      ><p style="padding: 2rem; text-align: center; color: #ccc">
        JavaScript is required to use Spotify Library Browser.
      </p></noscript
    >

    <main id="upload-screen">
      <header>
        <h1>Spotify Library Browser</h1>
      </header>
      <p>
        Browse your exported Spotify data. Request yours from
        <a
          href="https://www.spotify.com/account/privacy/"
          target="_blank"
          rel="noopener"
          >spotify.com/account/privacy</a
        >
        then drop the files here.
      </p>
      <div
        id="drop-zone"
        aria-label="Drop zone — drag your Spotify data export files here or click to select"
      >
        <span>drop folder or files here</span>
        <span class="hint">or click to select</span>
        <input
          type="file"
          id="file-input"
          multiple
          accept=".json"
          style="display: none"
        />
      </div>
      <div id="upload-error"></div>
      <p>Your data never leaves your browser.</p>
      <div class="footer-links">
        <button class="privacy-btn">privacy</button>
        <a
          href="https://github.com/danielhdzzz/spotify-data-view"
          target="_blank"
          rel="noopener"
          >github</a
        >
      </div>
    </main>

    <div id="sidebar" style="display: none">
      <div id="sidebar-header">
        <h1 id="library-title">Library</h1>
        <input
          type="text"
          id="sidebar-search"
          placeholder="filter playlists..."
          spellcheck="false"
        />
      </div>
      <div id="playlist-list"></div>
    </div>

    <div id="main" style="display: none">
      <div id="main-header">
        <button id="back-btn">&larr; back</button>
        <div id="main-title">Select a playlist</div>
        <div id="main-meta"></div>
        <button id="export-txt-btn">export txt</button>
        <button id="export-csv-btn">export csv</button>
      </div>
      <div id="track-filter-wrap" style="display: none">
        <input
          type="text"
          id="track-filter"
          placeholder="filter tracks..."
          spellcheck="false"
        />
        <label id="dedup-label"
          ><input type="checkbox" id="dedup-toggle" />hide duplicates</label
        >
      </div>
      <div id="col-header" style="display: none">
        <span class="col-num">#</span>
        <span class="col-track">Title</span>
        <span class="col-artist">Artist</span>
        <span class="col-album">Album</span>
        <span class="col-source" style="display: none">Source</span>
        <span class="col-date">Added</span>
      </div>
      <div id="track-viewport">
        <div id="track-runway"></div>
      </div>
      <div id="empty-state" style="display: none">No tracks found</div>
    </div>

    <div id="stats-view" style="display: none">
      <div id="stats-header">
        <div id="stats-title">Stats</div>
        <div id="stats-meta">Library overview (deduplicated)</div>
      </div>
      <div id="stats-content"></div>
    </div>

    <div id="stats-bar" style="display: none">
      <span class="stats-text"></span>
      <button id="settings-btn" class="bar-btn" title="Settings">
        settings
      </button>
      <button class="bar-btn privacy-btn">privacy</button>
      <a
        href="https://github.com/danielhdzzz/spotify-data-view"
        target="_blank"
        rel="noopener"
        style="color: var(--text-dim); text-decoration: none"
        >github</a
      >
    </div>

    <div id="settings-overlay" class="overlay" style="display: none">
      <div class="overlay-panel">
        <div class="overlay-header">
          <span>Settings</span>
          <button class="overlay-close">&times;</button>
        </div>
        <div class="theme-row">
          <span class="theme-row-label">Theme</span>
          <div class="theme-options">
            <input type="radio" name="theme" id="theme-system" value="system" />
            <label for="theme-system">system</label>
            <input type="radio" name="theme" id="theme-light" value="light" />
            <label for="theme-light">light</label>
            <input type="radio" name="theme" id="theme-dark" value="dark" />
            <label for="theme-dark">dark</label>
          </div>
        </div>
        <div class="export-row">
          <span class="export-row-label">Export</span>
          <div class="export-options">
            <button class="export-all-txt-btn">TXT</button>
            <button class="export-all-csv-btn">CSV</button>
          </div>
        </div>
        <label class="overlay-row">
          <input type="checkbox" id="hide-local-toggle" />
          <span>Hide local tracks</span>
        </label>
        <button id="clear-cache-btn" class="overlay-btn">
          Clear cached data
        </button>
      </div>
    </div>

    <div id="privacy-overlay" class="overlay" style="display: none">
      <div class="overlay-panel">
        <div class="overlay-header">
          <span>Privacy</span>
          <button class="overlay-close">&times;</button>
        </div>
        <div class="overlay-body">
          <p>This app runs entirely in your browser.</p>
          <p>
            No data is collected. No cookies are used. No analytics, no
            tracking, no servers.
          </p>
          <p>
            Your uploaded data is cached in your browser so the app loads
            instantly on return visits. Everything stays on your device and can
            be cleared from Settings.
          </p>
        </div>
      </div>
    </div>

    <div id="mobile-overlay">
      <div class="overlay-panel">
        <p>This app is designed for desktop browsers.</p>
        <p class="mobile-overlay-sub">For the best experience, open it on a larger screen.</p>
        <button id="mobile-dismiss">continue anyway</button>
      </div>
    </div>

    <script type="module" src="js/app.js"></script>
  </body>
</html>
